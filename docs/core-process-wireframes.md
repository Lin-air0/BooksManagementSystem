# 核心流程交互草图

## 一、概述

基于《P0 需求清单》，本交互草图详细描述了图书借阅系统5个核心页面的交互流程和关键操作节点，遵循"流程极简"原则，确保管理员/读者能在3步内完成核心任务。

## 二、页面交互流程设计

### 1. 首页（仪表盘）

**页面布局：**
- 顶部导航栏：系统名称、主要功能模块入口
- 左侧菜单栏：图书管理、读者管理、借阅记录、统计分析等功能导航
- 主内容区：
  - 核心统计卡片：总图书数、在借数、逾期数、可借数
  - 可视化图表预览区：借阅趋势图、热门图书排行
  - 快速操作区：添加图书、读者注册、借阅记录查询

**核心交互节点：**
1. **数据概览**：页面加载后自动显示核心统计数据和图表预览
2. **导航跳转**：点击顶部导航或左侧菜单跳转到对应功能页面
3. **快速操作**：点击快捷按钮直接进入相应操作流程
4. **图表入口**：点击预览图表可跳转到统计分析页查看详细数据

**典型操作路径：**
- 管理员登录 → 查看仪表盘 → 点击"添加图书"快捷按钮 → 进入图书添加流程

### 2. 图书列表页

**页面布局：**
- 顶部查询区：分类下拉选择、书名搜索框、库存状态选择、出版社搜索框
- 操作按钮区：添加图书、批量导入
- 数据表格区：展示图书列表（书名、作者、分类、库存、出版社、操作）
- 分页控件区：分页导航、每页显示数量调整

**核心交互节点：**
1. **查询交互**：
   - "分类 + 书名"组合查询：选择分类后输入书名关键词，点击搜索按钮
   - "库存 + 出版社"组合查询：选择库存状态后输入出版社关键词，点击搜索按钮
2. **列表展示**：实时显示查询结果，包含图书基本信息和操作按钮
3. **借阅流程**：（3步完成）
   - 步骤1：点击图书列表中的"借阅"按钮
   - 步骤2：弹出读者信息输入框（可输入学号/读者证号）
   - 步骤3：确认借阅信息，点击"确认借阅"按钮完成操作
4. **图书管理**：支持图书的添加、编辑、删除操作

**典型操作路径：**
- 进入图书列表页 → 选择"计算机科学"分类并输入"数据结构"关键词 → 点击搜索 → 找到目标图书点击"借阅"按钮 → 输入读者证号 → 确认借阅

### 3. 读者管理页

**页面布局：**
- 顶部查询区：读者类型下拉选择、图书作者搜索框、读者姓名/学号搜索框
- 操作按钮区：注册读者、批量导入
- 数据表格区：展示读者列表（姓名、学号/读者证号、读者类型、已借阅数量、操作）
- 分页控件区：分页导航、每页显示数量调整

**核心交互节点：**
1. **读者注册流程**：（3步完成）
   - 步骤1：点击"注册读者"按钮
   - 步骤2：填写读者信息（姓名、学号/读者证号、读者类型）
   - 步骤3：点击"提交"按钮，系统显示成功反馈
2. **读者编辑流程**：
   - 步骤1：选择读者，点击"编辑"按钮
   - 步骤2：修改读者信息
   - 步骤3：点击"保存"按钮，系统显示成功反馈
3. **查询交互**：
   - "读者类型 + 图书作者"组合查询：选择读者类型后输入作者关键词，点击搜索按钮
   - 支持按读者姓名或学号进行快速搜索
4. **读者列表展示**：实时显示读者信息和借阅统计

**典型操作路径：**
- 进入读者管理页 → 点击"注册读者"按钮 → 填写读者信息 → 点击"提交"完成注册

### 4. 借阅记录页

**页面布局：**
- 顶部查询区：读者搜索框、图书搜索框、日期范围选择器、状态筛选（全部/已借阅/已归还/逾期）
- 操作按钮区：批量还书
- 数据表格区：展示借阅记录列表（读者姓名、图书名称、借阅日期、应还日期、实际归还日期、状态、操作）
- 分页控件区：分页导航、每页显示数量调整

**核心交互节点：**
1. **借阅操作流程**：（3步完成）
   - 步骤1：选择图书，点击"借阅"按钮
   - 步骤2：选择或输入读者信息
   - 步骤3：确认借阅信息，系统自动计算应还日期，点击"确认借阅"完成操作
2. **还书操作流程**：（3步完成）
   - 步骤1：通过查询找到待还书的借阅记录
   - 步骤2：选择借阅记录，点击"归还"按钮
   - 步骤3：确认归还信息，点击"确认归还"完成操作
3. **逾期提醒**：
   - 系统自动检测逾期记录
   - 页面显示逾期标记
   - 点击逾期记录弹出详细逾期信息和罚款金额
4. **借阅记录查询**：支持按读者、图书、日期范围、状态进行组合查询

**典型操作路径：**
- 进入借阅记录页 → 输入读者姓名进行搜索 → 找到待还书记录 → 点击"归还"按钮 → 确认归还

### 5. 统计分析页

**页面布局：**
- 顶部筛选区：时间范围选择（月度/季度/年度）、数据维度选择
- 报表生成区：报表类型选择、生成按钮、导出按钮
- 图表展示区：可切换显示不同类型的可视化图表
- 数据详情区：表格形式展示图表对应的数据明细

**核心交互节点：**
1. **报表生成**：
   - 步骤1：选择时间范围（月度/季度/年度）
   - 步骤2：选择报表类型（借阅统计、热门图书、读者活跃度等）
   - 步骤3：点击"生成报表"按钮，系统生成并显示报表
2. **图表切换逻辑**：
   - 支持在同一数据维度下切换不同图表类型（折线图、饼图、柱状图）
   - 图表切换时数据实时更新
3. **数据导出**：支持将报表数据导出为Excel或PDF格式
4. **数据联动**：点击图表中的数据点可查看对应的数据明细

**典型操作路径：**
- 进入统计分析页 → 选择"月度"时间范围 → 选择"借阅趋势"报表 → 点击"生成报表" → 切换图表类型为"折线图"

## 三、综合查询路径覆盖

1. **按书名+分类查询**：图书列表页 → 选择分类 → 输入书名 → 点击搜索
2. **按读者类型+作者查询**：读者管理页 → 选择读者类型 → 输入作者 → 点击搜索
3. **按库存+出版社查询**：图书列表页 → 选择库存状态 → 输入出版社 → 点击搜索

## 四、设计原则遵循

1. **流程极简**：核心流程（图书借阅、还书、读者注册）均控制在3步以内完成
2. **交互可测试**：所有交互节点（查询条件、按钮、弹窗）均设计为可通过Puppeteer进行自动化测试
3. **场景贴合**：查询条件设置和操作流程符合图书馆实际使用场景和用户习惯

---
版本：v1.0.0
创建日期：2023年10月25日